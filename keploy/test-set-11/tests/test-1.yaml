version: api.keploy.io/v1beta1
kind: Http
name: test-1
spec:
    metadata: {}
    req:
        method: POST
        proto_major: 1
        proto_minor: 1
        url: http://127.0.0.1/control/clients/add
        header:
            Accept: '*/*'
            Authorization: Basic YWRtaW46cGFzc3dvcmQ=
            Content-Length: "1281"
            Content-Type: application/json
            Host: 127.0.0.1
        body: |-
            {
                  "name": "localhost",
                  "ids": [
                    "127.0.0.1",
                    "aa:aa:aa:aa:aa:aa"
                  ],
                  "use_global_settings": true,
                  "filtering_enabled": true,
                  "parental_enabled": true,
                  "safebrowsing_enabled": true,
                  "safe_search": {
                    "enabled": true,
                    "bing": true,
                    "duckduckgo": true,
                    "google": true,
                    "pixabay": true,
                    "yandex": true,
                    "youtube": true
                  },
                  "use_global_blocked_services": true,
                  "blocked_services_schedule": {
                    "time_zone": "Local",
                    "sun": {
                      "start": 0,
                      "end": 0
                    },
                    "mon": {
                      "start": 0,
                      "end": 0
                    },
                    "tue": {
                      "start": 0,
                      "end": 0
                    },
                    "wed": {
                      "start": 0,
                      "end": 0
                    },
                    "thu": {
                      "start": 0,
                      "end": 0
                    },
                    "fri": {
                      "start": 0,
                      "end": 0
                    },
                    "sat": {
                      "start": 0,
                      "end": 0
                    }
                  },
                  "blocked_services": ["disneyplus"],
                  "upstreams": [],
                  "tags": ["user_admin"],
                  "ignore_querylog": true,
                  "ignore_statistics": true,
                  "upstreams_cache_enabled": true,
                  "upstreams_cache_size": 3000
                }
        body_type: ""
        timestamp: 2023-12-06T22:35:37.089878569+05:30
    resp:
        status_code: 200
        header:
            Content-Length: "0"
            Date: Wed, 06 Dec 2023 17:05:37 GMT
            Vary: Accept-Encoding
        body: ""
        body_type: ""
        status_message: ""
        proto_major: 0
        proto_minor: 0
        timestamp: 2023-12-06T22:35:39.170753171+05:30
    objects: []
    assertions:
        noise:
            header.Date: []
    created: 1701882339
curl: |-
    curl --request POST \
      --url http://127.0.0.1/control/clients/add \
      --header 'Host: 127.0.0.1' \
      --header 'Accept: */*' \
      --header 'Content-Type: application/json' \
      --header 'Authorization: Basic YWRtaW46cGFzc3dvcmQ=' \
      --data '{
          "name": "localhost",
          "ids": [
            "127.0.0.1",
            "aa:aa:aa:aa:aa:aa"
          ],
          "use_global_settings": true,
          "filtering_enabled": true,
          "parental_enabled": true,
          "safebrowsing_enabled": true,
          "safe_search": {
            "enabled": true,
            "bing": true,
            "duckduckgo": true,
            "google": true,
            "pixabay": true,
            "yandex": true,
            "youtube": true
          },
          "use_global_blocked_services": true,
          "blocked_services_schedule": {
            "time_zone": "Local",
            "sun": {
              "start": 0,
              "end": 0
            },
            "mon": {
              "start": 0,
              "end": 0
            },
            "tue": {
              "start": 0,
              "end": 0
            },
            "wed": {
              "start": 0,
              "end": 0
            },
            "thu": {
              "start": 0,
              "end": 0
            },
            "fri": {
              "start": 0,
              "end": 0
            },
            "sat": {
              "start": 0,
              "end": 0
            }
          },
          "blocked_services": ["disneyplus"],
          "upstreams": [],
          "tags": ["user_admin"],
          "ignore_querylog": true,
          "ignore_statistics": true,
          "upstreams_cache_enabled": true,
          "upstreams_cache_size": 3000
        }'
